{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Desktop/project/Business-Directory/Business-Directory/frontend/src/app/business/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useParams, useRouter } from \"next/navigation\";\r\nimport { useUser } from \"../../components/UserContext\"; // adjust path if needed\r\n\r\n// ‚úÖ Add this interface\r\ninterface Business {\r\n  _id: string;\r\n  name: string;\r\n  category: string;\r\n  description: string;\r\n  logo?: { url: string };\r\n  location: {\r\n    address: string;\r\n    state?: string;\r\n    country: string;\r\n    zipCode: string;\r\n  };\r\n  contactInfo: {\r\n    phone: string;\r\n    email: string;\r\n    website?: string;\r\n  };\r\n  owner: {\r\n    username: string;\r\n  };\r\n}\r\n\r\nexport default function BusinessPage() {\r\n  const { id } = useParams();\r\n  const router = useRouter();\r\n  const { user, loading: userLoading } = useUser();\r\n\r\n  const [business, setBusiness] = useState<Business | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchBusiness = async () => {\r\n      try {\r\n        const res = await fetch(`http://localhost:5000/api/business/viewBiz/${id}`);\r\n        const data = await res.json();\r\n        setBusiness(data.Biz);\r\n      } catch (error) {\r\n        console.error(\"Error fetching business:\", error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    if (id) fetchBusiness();\r\n  }, [id]);\r\n\r\n  if (loading || userLoading) return <div className=\"p-6\">Loading...</div>;\r\n  if (!business) return <div className=\"p-6 text-red-600\">Business not found.</div>;\r\n\r\n  const isOwner = user && business?.owner?.username === user.username;\r\n\r\n  return (\r\n    <div className=\"max-w-4xl mx-auto p-6 space-y-6\">\r\n      <div className=\"flex items-center gap-4\">\r\n        <img\r\n          src={business.logo?.url || \"/default-logo.png\"}\r\n          alt=\"Logo\"\r\n          className=\"w-24 h-24 rounded-full object-cover border border-black\"\r\n        />\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold\">{business.name}</h1>\r\n          <p className=\"text-sm text-gray-600\">{business.category}</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div>\r\n        <h2 className=\"text-xl font-semibold\">Description</h2>\r\n        <p className=\"text-gray-700\">{business.description}</p>\r\n      </div>\r\n\r\n      <div>\r\n        <h2 className=\"text-xl font-semibold\">Location</h2>\r\n        <p>\r\n          {business.location.address}, {business.location.state && `${business.location.state}, `}\r\n          {business.location.country} - {business.location.zipCode}\r\n        </p>\r\n      </div>\r\n\r\n      <div>\r\n        <h2 className=\"text-xl font-semibold\">Contact Info</h2>\r\n        <p>üìû {business.contactInfo.phone}</p>\r\n        <p>üìß {business.contactInfo.email}</p>\r\n        {business.contactInfo.website && (\r\n          <p className=\"text-blue-600 hover: cursor-pointer\">\r\n            üåê <span className=\"underline\">{business.contactInfo.website}</span>\r\n          </p>\r\n        )}\r\n      </div>\r\n\r\n      <div>\r\n        <h2 className=\"text-xl font-semibold\">Owner</h2>\r\n        <p>{business.owner.username}</p>\r\n      </div>\r\n\r\n      {isOwner && (\r\n        <button\r\n          className=\"mt-4 px-4 py-2 bg-sky-800 text-white rounded hover:bg-blue-700 transition\"\r\n          onClick={() => router.push(`/UpdateBusiness/${business._id}`)}\r\n        >\r\n          Update Business\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AACA;AACA,+OAAwD,wBAAwB;AAHhF;;;;;AA4Be,SAAS;IACtB,MAAM,EAAE,EAAE,EAAE,GAAG,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,EAAE,IAAI,EAAE,SAAS,WAAW,EAAE,GAAG,CAAA,GAAA,wIAAA,CAAA,UAAO,AAAD;IAE7C,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAmB;IAC1D,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,gBAAgB;YACpB,IAAI;gBACF,MAAM,MAAM,MAAM,MAAM,CAAC,2CAA2C,EAAE,IAAI;gBAC1E,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,YAAY,KAAK,GAAG;YACtB,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,4BAA4B;YAC5C,SAAU;gBACR,WAAW;YACb;QACF;QAEA,IAAI,IAAI;IACV,GAAG;QAAC;KAAG;IAEP,IAAI,WAAW,aAAa,qBAAO,8OAAC;QAAI,WAAU;kBAAM;;;;;;IACxD,IAAI,CAAC,UAAU,qBAAO,8OAAC;QAAI,WAAU;kBAAmB;;;;;;IAExD,MAAM,UAAU,QAAQ,UAAU,OAAO,aAAa,KAAK,QAAQ;IAEnE,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBACC,KAAK,SAAS,IAAI,EAAE,OAAO;wBAC3B,KAAI;wBACJ,WAAU;;;;;;kCAEZ,8OAAC;;0CACC,8OAAC;gCAAG,WAAU;0CAAsB,SAAS,IAAI;;;;;;0CACjD,8OAAC;gCAAE,WAAU;0CAAyB,SAAS,QAAQ;;;;;;;;;;;;;;;;;;0BAI3D,8OAAC;;kCACC,8OAAC;wBAAG,WAAU;kCAAwB;;;;;;kCACtC,8OAAC;wBAAE,WAAU;kCAAiB,SAAS,WAAW;;;;;;;;;;;;0BAGpD,8OAAC;;kCACC,8OAAC;wBAAG,WAAU;kCAAwB;;;;;;kCACtC,8OAAC;;4BACE,SAAS,QAAQ,CAAC,OAAO;4BAAC;4BAAG,SAAS,QAAQ,CAAC,KAAK,IAAI,GAAG,SAAS,QAAQ,CAAC,KAAK,CAAC,EAAE,CAAC;4BACtF,SAAS,QAAQ,CAAC,OAAO;4BAAC;4BAAI,SAAS,QAAQ,CAAC,OAAO;;;;;;;;;;;;;0BAI5D,8OAAC;;kCACC,8OAAC;wBAAG,WAAU;kCAAwB;;;;;;kCACtC,8OAAC;;4BAAE;4BAAI,SAAS,WAAW,CAAC,KAAK;;;;;;;kCACjC,8OAAC;;4BAAE;4BAAI,SAAS,WAAW,CAAC,KAAK;;;;;;;oBAChC,SAAS,WAAW,CAAC,OAAO,kBAC3B,8OAAC;wBAAE,WAAU;;4BAAsC;0CAC9C,8OAAC;gCAAK,WAAU;0CAAa,SAAS,WAAW,CAAC,OAAO;;;;;;;;;;;;;;;;;;0BAKlE,8OAAC;;kCACC,8OAAC;wBAAG,WAAU;kCAAwB;;;;;;kCACtC,8OAAC;kCAAG,SAAS,KAAK,CAAC,QAAQ;;;;;;;;;;;;YAG5B,yBACC,8OAAC;gBACC,WAAU;gBACV,SAAS,IAAM,OAAO,IAAI,CAAC,CAAC,gBAAgB,EAAE,SAAS,GAAG,EAAE;0BAC7D;;;;;;;;;;;;AAMT","debugId":null}}]
}